cmake_minimum_required(VERSION 2.8)
set (CMAKE_CXX_STANDARD 11)
project( comm CXX)

file(GLOB SOURCES 
"autogenerated/src/*.cpp"
"src/*.cpp"
)

include_directories(
    include
    autogenerated/include
)

file(GLOB_RECURSE UNIT
"src/unit/*.cpp"
)

file(GLOB TEST_RESTCLIENT
"src/integ/TestRESTClient.cpp"
)


add_library( ${PROJECT_NAME} SHARED ${SOURCES} )


# Install library
install(TARGETS ${PROJECT_NAME} DESTINATION lib/${PROJECT_NAME})

file(GLOB HEADERS 
"autogenerated/include/*.h"
"include/*.h")

install(FILES ${HEADERS} DESTINATION include/${PROJECT_NAME})

target_link_libraries( ${PROJECT_NAME} 
${Boost_FILESYSTEM_LIBRARY} ${Boost_SYSTEM_LIBRARY} ${CMAKE_THREAD_LIBS_INIT} )